<!DOCTYPE html><html lang="en"> <head><title>
			Graphic Design Exercise | Alex Keen
		</title><meta charset="UTF-8"><meta name="description" content="Test your graphic design skills with a randomised challenge"><meta name="viewport" content="width=device-width,"><link rel="icon" href="/images/favicon.svg" type="image/svg+xml"><meta name="generator" content="Astro v5.13.5"><style>#color-display[data-astro-cid-67fmhq4i]{block-size:10rem}button[data-astro-cid-67fmhq4i]{font-size:1.1rem;font-family:inherit;display:block;justify-self:center;padding-inline:1ch}table[data-astro-cid-67fmhq4i]{inline-size:100%;table-layout:fixed}th[data-astro-cid-67fmhq4i],td[data-astro-cid-67fmhq4i]{padding-inline:1ch}td[data-astro-cid-67fmhq4i]{display:inline-block;text-align:center;min-inline-size:10ch}#countdown-timer[data-astro-cid-67fmhq4i]{font-size:10vw;justify-self:center}
</style>
<link rel="stylesheet" href="/_astro/below-the-algorithm.n85KvY_1.css"></head> <body> <nav class="col-wide" data-astro-cid-dmqpwcec> <ul data-astro-cid-dmqpwcec> <li data-astro-cid-dmqpwcec><a href="/" data-astro-cid-dmqpwcec>index</a></li> <li data-astro-cid-dmqpwcec> <a href="/shoebox" data-astro-cid-dmqpwcec>shoebox</a> </li><li data-astro-cid-dmqpwcec> <a href="/shoebox/design-exercise" data-astro-cid-dmqpwcec>design-exercise</a> </li><li data-astro-cid-dmqpwcec> <a href="/shoebox/design-exercise" data-astro-cid-dmqpwcec></a> </li> </ul> </nav>  <h1>Graphic Design Exercise</h1>   <section class="col-center" data-astro-cid-67fmhq4i> <p data-astro-cid-67fmhq4i>Click the button to get a random graphic design challenge!</p> <button id="btn-generate-challenge" data-astro-cid-67fmhq4i>Generate challenge</button> <div id="results" data-astro-cid-67fmhq4i> <h2 data-astro-cid-67fmhq4i>Your Challenge</h2> <table id="instructions" data-astro-cid-67fmhq4i> <tr data-astro-cid-67fmhq4i> <th data-astro-cid-67fmhq4i>Time</th> <td id="duration" data-astro-cid-67fmhq4i></td> </tr> <tr data-astro-cid-67fmhq4i> <th data-astro-cid-67fmhq4i>Format</th> <td id="dimensions" data-astro-cid-67fmhq4i></td> </tr> <tr data-astro-cid-67fmhq4i> <th data-astro-cid-67fmhq4i>Aesthetic</th> <td id="aesthetic" data-astro-cid-67fmhq4i></td> </tr> <tr data-astro-cid-67fmhq4i> <th data-astro-cid-67fmhq4i>Prompts</th> <td id="prompts" data-astro-cid-67fmhq4i></td> </tr> <tr data-astro-cid-67fmhq4i> <th data-astro-cid-67fmhq4i>Primary colour</th> <td id="color" data-astro-cid-67fmhq4i></td> </tr> </table> </div> <div id="color-display" data-astro-cid-67fmhq4i></div> <div id="countdown-timer" data-astro-cid-67fmhq4i>00:00</div> <button id="btn-start-timer" data-astro-cid-67fmhq4i>Start the clock!</button> </section> <script type="module">
		const btnGenerateChallenge = document.querySelector(
			'#btn-generate-challenge'
		);
		const btnStartTimer = document.querySelector('#btn-start-timer');
		const colorDisplay = document.querySelector('#color-display');
		const countdownTimer = document.querySelector('#countdown-timer');

		import { layouts, aesthetics, prompts } from '/js/data-lists.js';

		class Challenge {
			constructor() {
				this.duration;
				this.dimensions;
				this.aesthetic;
				this.prompts;
				this.color;
				this.isActive = false;
			}
		}
		let challenge = {};

		// Generating the challenge
		function generateChallenge() {
			if (challenge.isActive) {
				const cancel = confirm(
					'You have an active challenge! Are you sure you want to cancel?'
				);
				if (!cancel) {
					return;
				}
				challenge.duration = 0;
				clearInterval(window.timerInterval);
			}

			btnStartTimer.textContent = 'Start the clock!';

			challenge = new Challenge();

			challenge.duration = randomIntTween(1, 20);

			challenge.dimensions = pickFrom(layouts);
			if (challenge.dimensions == 'other') {
				const x = bellCurveTween(10, 100);
				const y = bellCurveTween(10, 100);
				challenge.dimensions = `${x}cm &times; ${y}cm`;
			}

			challenge.aesthetic = pickFrom(aesthetics);

			challenge.prompts = `"${pickFrom(prompts)}", "${pickFrom(
				prompts
			)}" or "${pickFrom(prompts)}"`;

			challenge.color = `hsl(${randomIntTween(0, 360)} ${randomIntTween(
				0,
				100
			)}% ${randomIntTween(0, 100)}%)`;

			updateField('#duration', `${challenge.duration} minutes`);
			updateField('#dimensions', challenge.dimensions);
			updateField('#aesthetic', challenge.aesthetic);
			updateField('#prompts', challenge.prompts);
			updateField('#color', challenge.color);
			colorDisplay.style = `background: ${challenge.color}`;
			updateField(
				'#countdown-timer',
				`${
					challenge.duration < 10 ?
						'0' + challenge.duration
					:	challenge.duration
				}:00`
			);
			challenge.duration = challenge.duration * 60;
		}

		// timer stuff
		function startTimer() {
			challenge.isActive = true;
			btnStartTimer.textContent = 'Stop the clock!';
			window.timerInterval = setInterval(iterateTimer, 1000);
		}

		function iterateTimer() {
			if (challenge.isActive == false) {
				console.log('challenge has been stopped or ended');
				clearInterval(window.timerInterval);
			}
			let minutes, seconds;
			minutes = parseInt(challenge.duration / 60, 10);
			seconds = parseInt(challenge.duration % 60, 10);

			minutes = minutes < 10 ? '0' + minutes : minutes;
			seconds = seconds < 10 ? '0' + seconds : seconds;

			countdownTimer.textContent = minutes + ':' + seconds;
			challenge.duration--;
			if (challenge.duration < 0) {
				expireTimer();
			}
		}

		function expireTimer() {
			console.log('ExpireTimer triggered');
			challenge.duration = 0;
			countdownTimer.textContent = "Time's up!";
			challenge.isActive = false;
		}

		// Random generation stuff
		function randomIntTween(min, max) {
			const range = max - min;
			const result = min + Math.floor(Math.random() * range);
			return result;
		}

		function bellCurveTween(min, max) {
			return Math.floor(
				(randomIntTween(min, max) + randomIntTween(min, max)) / 2
			);
		}

		function pickFrom(array, bellCurve = false) {
			let index;
			if (bellCurve) {
				index = bellCurveTween(0, array.length);
			} else {
				index = randomIntTween(0, array.length);
			}
			return array[index];
		}

		// DOM manipulation
		function updateField(target, innerHTML) {
			document.querySelector(target).innerHTML = innerHTML;
		}

		// adding event listeners
		btnGenerateChallenge.addEventListener('click', generateChallenge);

		btnStartTimer.addEventListener('click', () => {
			// if it's clicked while a timer is in play, check if they want to cancel?
			if (challenge.isActive == true) {
				if (confirm('Do you want to cancel the challenge?'))
					expireTimer();
				return;
			}
			startTimer(challenge.duration * 60);
		});
	</script>  <footer> <a href="#" title="top"> <span class="visually-hidden">Go to top</span> <img src="/images/favicon.svg" alt="A monogram of the letters A K in a circle"> </a> </footer>  </body> </html>